import{c as l,u as f,a as Q,r as h,b as y,d as E,f as N,e as P,g as v,L as z,h as B,o as I,i as T,j as p,w as d,P as b,k,l as w,m as O,n as t,F as q,p as L,q as _,t as m}from"./index-Cq6DSGY0.js";import{S as x}from"./ScreenLayout-BuLKmJ_W.js";import{Q as A,P as C}from"./QuestionOption-oi6v2D9y.js";function G(s,{stepsBeforeQuiz:a=1,currentStepIndex:o=0}={}){const e=l(()=>s.total+a),u=l(()=>Math.min(o+1,e.value));return{progressTotal:e,progressCurrent:u}}function U(){const s=f(),a=E(),{locale:o}=Q({useScope:"global"}),e=h(null),u=async()=>{const n=await N();e.value=P(n,z),s.loadQuestions()},r=l(()=>y(e.value,v)),i=l(()=>[s.language]);return{languageQuestion:e,languageOptions:r,selectedLanguage:i,loadLanguageQuestion:u,selectLanguage:n=>{s.setLanguage(n),o.value=n,a.push("/quiz")}}}const V={class:"title","aria-live":"polite"},D={class:"subtitle","aria-live":"polite"},j=B({__name:"LanguageView",setup(s){const{t:a}=Q(),o=f(),{languageQuestion:e,languageOptions:u,selectedLanguage:r,loadLanguageQuestion:i,selectLanguage:c}=U(),{progressTotal:n}=G(o,{stepsBeforeQuiz:b,currentStepIndex:k});return I(i),(K,g)=>(p(),T(x,null,{header:d(()=>[_(C,{current:0,total:t(n),rounded:""},null,8,["total"])]),default:d(()=>[t(e)?(p(),w(q,{key:0},[L("h1",V,m(t(a)(t(e).titleKey)),1),L("p",D,m(t(a)(t(e).subtitleKey||"subtitle.language")),1),_(A,{type:"single",options:t(u),"selected-ids":t(r),onSelect:g[0]||(g[0]=S=>t(c)(S))},null,8,["options","selected-ids"])],64)):O("",!0)]),_:1}))}});export{j as default};
